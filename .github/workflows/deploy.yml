# name: Deploy Lambda Function

# on:
#   push:
#     branches: [ main ]
#   pull_request:
#     branches: [ main ]

# jobs:
#   deploy:
#     runs-on: ubuntu-latest
    
#     steps:
#     - uses: actions/checkout@v3
    
#     - name: Configure AWS Credentials
#       uses: aws-actions/configure-aws-credentials@v2
#       with:
#         aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
#         aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
#         aws-region: ${{ secrets.AWS_REGION }}
    
#     - name: Setup Node.js
#       uses: actions/setup-node@v3
#       with:
#         node-version: '18'
    
#     - name: Install dependencies
#       run: |
#         cd src
#         npm init -y
#         npm install --production
    
#     - name: Create deployment package
#       run: |
#         cd src
#         zip -r ../function.zip .
    
#     - name: Deploy to Lambda
#       run: |
#         aws lambda update-function-code \
#           --function-name hello-world-lambda \
#           --zip-file fileb://function.zip \
#           --publish
    
#     - name: Wait for update to complete
#       run: |
#         aws lambda wait function-updated \
#           --function-name hello-world-lambda
    
#     - name: Test Lambda function
#       run: |
#         aws lambda invoke \
#           --function-name hello-world-lambda \
#           --payload '{"test": "Hello from GitHub Actions!"}' \
#           response.json
#         cat response.json